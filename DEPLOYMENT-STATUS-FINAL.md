# ğŸš€ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© - Ù†Ø¸Ø§Ù… UniBus

## âœ… Ù…Ø§ ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡ Ø¨Ù†Ø¬Ø§Ø­

### 1. Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª 
- âœ… Ø¥ØµÙ„Ø§Ø­ `bcrypt` â†’ `bcryptjs` ÙÙŠ `backend-new/routes/students.js`
- âœ… ØªØ«Ø¨ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

### 2. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
- âœ… ØªØ­Ø¯ÙŠØ« `backend-new/routes/auth.js` Ù„Ø¯Ø¹Ù… ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø´ÙØ±Ø© ÙˆØ§Ù„Ø¹Ø§Ø¯ÙŠØ©
- âœ… Ø¥Ø¶Ø§ÙØ© ØªØ´Ø®ÙŠØµ Ù…ÙØµÙ„ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡
- âœ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ø®ØªØ¨Ø§Ø± ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© (`student_portal`)

### 3. Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ
- âœ… Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ `/api/proxy/auth/login/route.js`
- âœ… ØªØ­Ø¯ÙŠØ« Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª API ÙÙŠ `frontend-new/config/api.js`

## ğŸ§ª Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø­Ù„ÙŠ

### Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯ (PORT 3001)
```
âœ… Ø§Ù„Ø®Ø§Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­
âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØµÙ„Ø©
âœ… Ù…Ø³Ø§Ø± /api/auth/login ÙŠØ¹Ù…Ù„
âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù†Ø§Ø¬Ø­ Ù…Ø¹ test@test.com
```

### Ø§Ù„ÙØ±ÙˆÙ†Øª Ø¥Ù†Ø¯ (PORT 3000)
```
â³ ÙŠØ­ØªØ§Ø¬ ÙˆÙ‚Øª Ø¥Ø¶Ø§ÙÙŠ Ù„Ù„Ø¨Ø¯Ø¡
ğŸ“‹ Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ Ø¬Ø§Ù‡Ø²Ø©
```

## ğŸ‘¤ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ØªØ§Ø­Ø©

| Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ | ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± | Ø§Ù„Ø¯ÙˆØ± |
|---|---|---|
| admin@unibus.com | admin123 | Ù…Ø¯ÙŠØ± |
| supervisor@unibus.com | supervisor123 | Ù…Ø´Ø±Ù |
| student@unibus.com | student123 | Ø·Ø§Ù„Ø¨ |
| test@test.com | 123456 | Ø·Ø§Ù„Ø¨ |
| rozan@gmail.com | roz123 | Ø·Ø§Ù„Ø¨ |

## ğŸ“‹ Ù„Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ± VPS

### 1. Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙØ­Ø¯Ø«Ø©
```bash
# Ù†Ø³Ø® Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±:
scp backend-new/routes/auth.js root@YOUR_SERVER:/home/unitrans/backend-new/routes/
scp backend-new/routes/students.js root@YOUR_SERVER:/home/unitrans/backend-new/routes/
scp backend-new/create-production-users.js root@YOUR_SERVER:/home/unitrans/backend-new/
scp fix-production-auth-complete.sh root@YOUR_SERVER:/home/unitrans/
```

### 2. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¥ØµÙ„Ø§Ø­Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±
```bash
# SSH Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±
ssh root@YOUR_SERVER

# Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø¬Ù„Ø¯
cd /home/unitrans

# Ø¥ØµÙ„Ø§Ø­ ØªØ¨Ø¹ÙŠØ© bcrypt
sed -i "s/require('bcrypt')/require('bcryptjs')/g" backend-new/routes/students.js

# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
cd backend-new && node create-production-users.js

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
pkill -f node
nohup node server.js > ../backend.log 2>&1 &

cd ../frontend-new
npm run build
nohup npm start > ../frontend.log 2>&1 &

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Nginx
systemctl reload nginx
```

### 3. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…
```bash
# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø§Ùƒ Ø¥Ù†Ø¯
curl https://unibus.online/api/auth/login \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456"}'

# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ø±ÙˆÙƒØ³ÙŠ
curl https://unibus.online/api/proxy/auth/login \
  -X POST \
  -H "Content-Type: application/json" \
  -d '{"email":"test@test.com","password":"123456"}'
```

## ğŸŒ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù…

- **Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:** https://unibus.online
- **ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:** https://unibus.online/auth
- **Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±:** https://unibus.online/admin/dashboard
- **Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø´Ø±Ù:** https://unibus.online/admin/supervisor-dashboard
- **Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø·Ø§Ù„Ø¨:** https://unibus.online/student/portal

## ğŸ”§ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

### ÙØ­Øµ Ø§Ù„Ù„ÙˆÙ‚Ø²
```bash
tail -f /home/unitrans/backend.log
tail -f /home/unitrans/frontend.log
```

### ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
```bash
ps aux | grep node
netstat -tulpn | grep :300
```

### Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø´Ø§Ù…Ù„Ø©
```bash
pkill -f node
cd /home/unitrans/backend-new && nohup node server.js &
cd /home/unitrans/frontend-new && nohup npm start &
```

## ğŸ“ Ø§Ù„Ø¯Ø¹Ù…

Ø¥Ø°Ø§ Ø§Ø³ØªÙ…Ø±Øª Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ØŒ ØªØ­Ù‚Ù‚ Ù…Ù†:
1. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª MongoDB
2. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Nginx
3. Ø´Ù‡Ø§Ø¯Ø§Øª SSL
4. Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© (.env)

---
*Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 28 Ø³Ø¨ØªÙ…Ø¨Ø± 2025*
